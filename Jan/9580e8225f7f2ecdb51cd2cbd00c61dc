The UK high court has ruled that Nigerian communities affected by oil pollution cannot proceed with a legal challenge in the UK against Shell and its Nigerian subsidiary.